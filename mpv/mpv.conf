volume=100
loop-playlist=inf
script-opts=ytdl_hook-ytdl_path=/usr/bin/yt-dlp
image-display-duration=5.0

vo=gpu
scale=ewa_lanczos
cscale=ewa_lanczos
dscale=mitchell
deband=yes
hdr-compute-peak=yes
gpu-api=opengl
gpu-context=x11
hwdec=nvdec-copy
hwdec-codecs=all

#audio
ao=pipewire
audio-channels=stereo
audio-samplerate=48000   # matches your BT sink (pw-top shows bluez_output at 48k)
replaygain=no
volume-max=130
cache=yes
demuxer-max-bytes=256M
demuxer-readahead-secs=60

# --- core quality/perf ---
profile=gpu-hq           # automatically enables high-quality defaults
scale-antiring=0.7       # reduce ringing (less halos)
cscale-antiring=0.7
sigmoid-upscaling=yes    # improves smoothness of ewa_lanczos scaling
correct-downscaling=yes  # more accurate downscaling (tiny GPU cost)
temporal-dither=yes      # smoother gradients
dither-depth=auto        # use display bit-depth
tone-mapping=mobius      # cleaner HDR â†’ SDR mapping
target-trc=auto          # auto select transfer curve
target-peak=1000         # helps hdr-compute-peak
blend-subtitles=yes      # smoother subs
opengl-pbo=yes           # async texture upload for slightly better perf
fbo-format=rgba16f       # high precision intermediate buffer

interpolation=yes
tscale=oversample
video-sync=display-resample
video-sync-max-video-change=5
video-sync-max-audio-change=0.05

osc=yes
osd-font-size=26
osd-scale-by-window=no
screenshot-directory=~/Pictures/mpv_shots
screenshot-format=png
screenshot-high-bit-depth=yes

opengl-pbo=yes


[VIVID]
glsl-shaders="~/.config/mpv/shaders/FSR.glsl:~/.config/mpv/shaders/CAS-scaled.glsl:~/.config/mpv/shaders/KrigBilateral.glsl"
saturation=45
contrast=0
gamma=-5

[LENS]
glsl-shaders="~~/shaders/KrigBilateral.glsl:~~/shaders/FSR.glsl:~~/shaders/CAS-scaled.glsl:~~/shaders/lens.glsl"
saturation=0
contrast=0
gamma=0
deband=yes
deband-iterations=1
deband-threshold=16
deband-grain=0

[GRAINY]
glsl-shaders="~/.config/mpv/shaders/noise_static_luma.hook:~/.config/mpv/shaders/noise_static_chroma.hook"
saturation=45
contrast=8
gamma=1.0
deband-iterations=2
deband-threshold=20

[SUPERSHARP]
glsl-shaders="~/.config/mpv/shaders/FSRCNNX_x2_16-0-4-1.glsl:~/.config/mpv/shaders/FSR.glsl"
saturation=45
contrast=12
gamma=0.95

[SMOOTH]
interpolation=yes
tscale=oversample
video-sync=display-resample
saturation=0
contrast=0
gamma=1.0

[ANIME4K]
glsl-shaders="~/.config/mpv/shaders/Anime4K_Upscale_CNN_x2_M.glsl:~/.config/mpv/shaders/Anime4K_Thin_HQ.glsl:~/.config/mpv/shaders/Anime4K_Clamp_Highlights.glsl"
saturation=45
contrast=12
gamma=1.0
